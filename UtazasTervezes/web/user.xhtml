<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>
    </h:head>

    <h:body>
        <h:form id="form">
            <p:growl id="msgs" showDetail="true" />
            Név: #{userBean.personDatas} <br/>
            Kérem válasszon autót: 
            <h:selectOneMenu value="#{userBean.rendszam}" id="kocsiproba">
                <f:selectItems value="#{userBean.rendszamok}" />
            </h:selectOneMenu>
            <br/>
            Honnan utazik <h:inputText label="Honnan" value="#{userBean.honnan}" /> <br/>
            Hová <h:inputText label="Hova" value="#{userBean.hova}" /> <br/>
            <h3>Konferencián való részvétel esetén a bejelentett előadás/poszter* címe:</h3><br/>
            <p:inputTextarea value="#{userBean.eloadas_postercim}" rows="5" cols="30" counter="display" maxlength="100" counterTemplate="{0} characters remaining." autoResize="false" />
            <h:outputText id="display" />

            <br/>
            Tanulmányút esetén milyen program keretében kerül sor az utazásra*:<br/>
            <p:selectOneMenu label="Keret" value="#{userBean.egyebkeret}" effect="fold" editable="true">
                <f:selectItem itemLabel="Select One" itemValue="" />
                <f:selectItems value="#{userBean.utazasiKeret}" />
            </p:selectOneMenu><br/>
            
            <h:commandButton onclick="#{userBean.genPDF()};" value="PDF Generálása"/><br/><br/><br/>
            
            <p:dataTable id="eventsDT" var="PDFDatas" value="#{userBean.pdfDatas}" selectionMode="single" selection="#{userBean.selectedPDFDatas}" rowKey="#{PDFDatas.id}" >
                <f:facet name="header">
                    Leadott utazási tervek
                </f:facet>
                <p:ajax event="rowSelect" listener="#{userBean.onRowSelect}" update=":form:msgs" />
                <p:ajax event="rowUnselect" listener="#{userBean.onRowUnselect}" update=":form:msgs" />
                                <p:column headerText="Id">
                    <h:outputText value="#{PDFDatas.id}" />
                </p:column>
                <p:column headerText="Személy ID">
                    <h:outputText value="#{PDFDatas.szemelyID}" />
                </p:column>
                <p:column headerText="Dátum">
                    <h:outputText value="#{PDFDatas.datum}" />
                </p:column>
                <p:column headerText="Hova">
                    <h:outputText value="#{PDFDatas.hova}" />
                </p:column>
                <p:column headerText="Összköltség">
                    <h:outputText value="#{PDFDatas.osszkoltsegFT}" />
                </p:column>
                <p:column headerText="DokumentumTípusa">
                    <h:outputText value="#{PDFDatas.dokumentumTipusa}" />
                </p:column>
                <p:column headerText="Ellenőrizve">
                    <h:outputText value="#{PDFDatas.ellenorizve}" />
                </p:column>
            </p:dataTable>
            
            
            <p:dialog header="PDF Info" widgetVar="carDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
                <p:outputPanel id="carDetail" style="text-align:center;">
                    <p:panelGrid  columns="2" rendered="#{not empty userBean.selectedPDFDatas}" columnClasses="label,value">
                        <h:outputText value="Hova:" />
                        <h:outputText value="#{userBean.selectedPDFDatas.hova}" />
                    </p:panelGrid>
                </p:outputPanel>
            </p:dialog>
            <h:commandButton onclick="#{userBean.Faszom()};" value="Kiválasztás frissítése"/><br/>
        </h:form>
        
                    
        <form action="/UtazasTervezes/OpenPDF" method="POST">
            <input type="hidden" id="SelectedPDF" name="SelectedPDF" value="#{userBean.selectedPDFDatas.id}"/>
            <input type="submit" value="OpenPDF"/>
        </form> 
        #{userBean.selectedPDFDatas.hova}
        #{userBean.rendszam}
        #{userBean.honnan}
        #{userBean.hova}
        #{userBean.eloadas_postercim}
        #{userBean.egyebkeret}
        <br/>Norma: #{userBean.norma}
        <br/>Uzemanyag: #{userBean.uzemanyag}
    </h:body>
    
    
        <script type="text/javascript">
        //<![CDATA[
        
        
        //]]>
        </script>
    
</html>

